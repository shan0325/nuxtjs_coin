<template>
	<div class="codepen">
		<div class="contents">
			<span style="display: inline-block; margin-right: 10px">
				<ul class="flip hFirstPlay">
					<li id="hFirstPlay_0">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
						</a>
					</li>
					<li id="hFirstPlay_1">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
						</a>
					</li>
					<li id="hFirstPlay_2">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
						</a>
					</li>
				</ul>
				<ul class="flip hSecondPlay">
					<li id="hSecondPlay_0">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
						</a>
					</li>
					<li id="hSecondPlay_1">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
						</a>
					</li>
					<li id="hSecondPlay_2">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
						</a>
					</li>
					<li id="hSecondPlay_3">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">3</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">3</div>
							</div>
						</a>
					</li>
					<li id="hSecondPlay_4">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">4</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">4</div>
							</div>
						</a>
					</li>
					<li id="hSecondPlay_5">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">5</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">5</div>
							</div>
						</a>
					</li>
					<li id="hSecondPlay_6">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">6</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">6</div>
							</div>
						</a>
					</li>
					<li id="hSecondPlay_7">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">7</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">7</div>
							</div>
						</a>
					</li>
					<li id="hSecondPlay_8">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">8</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">8</div>
							</div>
						</a>
					</li>
					<li id="hSecondPlay_9">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">9</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">9</div>
							</div>
						</a>
					</li>
				</ul>
			</span>
			<span style="display: inline-block; margin-right: 10px">
				<ul class="flip mFirstPlay">
					<li id="mFirstPlay_0">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
						</a>
					</li>
					<li id="mFirstPlay_1">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
						</a>
					</li>
					<li id="mFirstPlay_2">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
						</a>
					</li>
					<li id="mFirstPlay_3">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">3</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">3</div>
							</div>
						</a>
					</li>
					<li id="mFirstPlay_4">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">4</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">4</div>
							</div>
						</a>
					</li>
					<li id="mFirstPlay_5">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">5</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">5</div>
							</div>
						</a>
					</li>
				</ul>
				<ul class="flip mSecondPlay">
					<li id="mSecondPlay_0">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
						</a>
					</li>
					<li id="mSecondPlay_1">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
						</a>
					</li>
					<li id="mSecondPlay_2">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
						</a>
					</li>
					<li id="mSecondPlay_3">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">3</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">3</div>
							</div>
						</a>
					</li>
					<li id="mSecondPlay_4">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">4</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">4</div>
							</div>
						</a>
					</li>
					<li id="mSecondPlay_5">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">5</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">5</div>
							</div>
						</a>
					</li>
					<li id="mSecondPlay_6">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">6</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">6</div>
							</div>
						</a>
					</li>
					<li id="mSecondPlay_7">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">7</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">7</div>
							</div>
						</a>
					</li>
					<li id="mSecondPlay_8">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">8</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">8</div>
							</div>
						</a>
					</li>
					<li id="mSecondPlay_9">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">9</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">9</div>
							</div>
						</a>
					</li>
				</ul>
			</span>

			<span style="display: inline-block; margin-right: 10px">
				<ul class="flip sFirstPlay">
					<li id="sFirstPlay_0">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
						</a>
					</li>
					<li id="sFirstPlay_1">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
						</a>
					</li>
					<li id="sFirstPlay_2">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
						</a>
					</li>
					<li id="sFirstPlay_3">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">3</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">3</div>
							</div>
						</a>
					</li>
					<li id="sFirstPlay_4">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">4</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">4</div>
							</div>
						</a>
					</li>
					<li id="sFirstPlay_5">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">5</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">5</div>
							</div>
						</a>
					</li>
				</ul>
				<ul class="flip sSecondPlay">
					<li id="sSecondPlay_0">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">0</div>
							</div>
						</a>
					</li>
					<li id="sSecondPlay_1">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">1</div>
							</div>
						</a>
					</li>
					<li id="sSecondPlay_2">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">2</div>
							</div>
						</a>
					</li>
					<li id="sSecondPlay_3">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">3</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">3</div>
							</div>
						</a>
					</li>
					<li id="sSecondPlay_4">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">4</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">4</div>
							</div>
						</a>
					</li>
					<li id="sSecondPlay_5">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">5</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">5</div>
							</div>
						</a>
					</li>
					<li id="sSecondPlay_6">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">6</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">6</div>
							</div>
						</a>
					</li>
					<li id="sSecondPlay_7">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">7</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">7</div>
							</div>
						</a>
					</li>
					<li id="sSecondPlay_8">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">8</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">8</div>
							</div>
						</a>
					</li>
					<li id="sSecondPlay_9">
						<a href="#">
							<div class="up">
								<div class="shadow"></div>
								<div class="inn">9</div>
							</div>
							<div class="down">
								<div class="shadow"></div>
								<div class="inn">9</div>
							</div>
						</a>
					</li>
				</ul>
			</span>
		</div>
	</div>
</template>

<script>
export default {
	data() {
		return {
			hours: null,
			minutes: null,
			secondPlay: null,
			clockInteval: null,
		};
	},
	mounted() {
		this.timeInit();
		this.settingInit();
		this.timePlay();
		document.querySelector('.codepen').classList.add('play');

		this.clockInteval = setInterval(() => {
			this.timeInit();
			this.settingInit();
			this.timePlay();
		}, 1000);
	},
	destroyed() {
		if (this.clockInteval) {
			clearInterval(this.clockInteval);
		}
	},
	methods: {
		timeInit() {
			const curDate = new Date();
			this.hours =
				curDate.getHours().toString().length === 1
					? `0${curDate.getHours()}`
					: curDate.getHours();
			this.minutes =
				curDate.getMinutes().toString().length === 1
					? `0${curDate.getMinutes()}`
					: curDate.getMinutes();
			this.seconds =
				curDate.getSeconds().toString().length === 1
					? `0${curDate.getSeconds()}`
					: curDate.getSeconds();

			// console.log(hours + ' ' + minutes + ' ' + seconds);
		},
		settingInit() {
			document.querySelector('ul.hFirstPlay').childNodes.forEach(el => {
				if (el.tagName === 'LI') {
					el.classList.remove('before');
					el.classList.remove('active');
				}
			});

			document.querySelector('ul.hSecondPlay').childNodes.forEach(el => {
				if (el.tagName === 'LI') {
					el.classList.remove('before');
					el.classList.remove('active');
				}
			});

			document.querySelector('ul.mFirstPlay').childNodes.forEach(el => {
				if (el.tagName === 'LI') {
					el.classList.remove('before');
					el.classList.remove('active');
				}
			});

			document.querySelector('ul.mSecondPlay').childNodes.forEach(el => {
				if (el.tagName === 'LI') {
					el.classList.remove('before');
					el.classList.remove('active');
				}
			});

			document.querySelector('ul.sFirstPlay').childNodes.forEach(el => {
				if (el.tagName === 'LI') {
					el.classList.remove('before');
					el.classList.remove('active');
				}
			});

			document.querySelector('ul.sSecondPlay').childNodes.forEach(el => {
				if (el.tagName === 'LI') {
					el.classList.remove('before');
					el.classList.remove('active');
				}
			});
		},
		timePlay() {
			this.setActivePlay(
				document.querySelector(
					`ul #hFirstPlay_${this.hours.toString()[0]}`,
				),
			);

			this.setActivePlay(
				document.querySelector(
					`ul #hSecondPlay_${this.hours.toString()[1]}`,
				),
			);

			this.setActivePlay(
				document.querySelector(
					`ul #mFirstPlay_${this.minutes.toString()[0]}`,
				),
			);

			this.setActivePlay(
				document.querySelector(
					`ul #mSecondPlay_${this.minutes.toString()[1]}`,
				),
			);

			this.setActivePlay(
				document.querySelector(
					`ul #sFirstPlay_${this.seconds.toString()[0]}`,
				),
			);

			this.setActivePlay(
				document.querySelector(
					`ul #sSecondPlay_${this.seconds.toString()[1]}`,
				),
			);
		},
		setActivePlay(play) {
			if (play.previousElementSibling) {
				play.previousElementSibling.classList.add('before');
			} else {
				play.parentElement.lastElementChild.classList.add('before');
			}
			play.classList.add('active');
		},
	},
};
</script>

<style>
/* Reset */
.codepen * {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

.codepen a {
	cursor: pointer;
	text-decoration: none;
	color: #ccc;
}

.codepen a:hover {
	color: #fff;
}

.codepen ul {
	list-style: none;
}

.codepen .clearfix:before,
.codepen .clearfix:after {
	content: ' ';
	display: table;
}

.codepen .clearfix:after {
	clear: both;
}

.codepen .clearfix {
	*zoom: 1;
}

/* Main */

.codepen {
	text-align: center;
}

/* Skeleton */

.codepen ul.flip {
	position: relative;
	float: left;
	margin: 5px;
	width: 60px;
	height: 90px;
	font-size: 80px;
	font-weight: bold;
	line-height: 87px;
	border-radius: 6px;
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.7);
}

.codepen ul.flip li {
	z-index: 1;
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
}

.codepen ul.flip li:first-child {
	z-index: 2;
}

.codepen ul.flip li a {
	display: block;
	height: 100%;
	perspective: 200px;
}

.codepen ul.flip li a div {
	z-index: 1;
	position: absolute;
	left: 0;
	width: 100%;
	height: 50%;
	overflow: hidden;
}

.codepen ul.flip li a div .shadow {
	position: absolute;
	width: 100%;
	height: 100%;
	z-index: 2;
}

.codepen ul.flip li a div.up {
	transform-origin: 50% 100%;
	top: 0;
}

.codepen ul.flip li a div.up:after {
	content: '';
	position: absolute;
	top: 44px;
	left: 0;
	z-index: 5;
	width: 100%;
	height: 3px;
	background-color: rgba(0, 0, 0, 0.4);
}

.codepen ul.flip li a div.down {
	transform-origin: 50% 0%;
	bottom: 0;
}

.codepen ul.flip li a div div.inn {
	position: absolute;
	left: 0;
	z-index: 1;
	width: 100%;
	height: 200%;
	color: #ccc;
	text-shadow: 0 1px 2px #000;
	text-align: center;
	background-color: #333;
	border-radius: 6px;
}

.codepen ul.flip li a div.up div.inn {
	top: 0;
}

.codepen ul.flip li a div.down div.inn {
	bottom: 0;
}

/* PLAY */

.codepen.play ul li.before {
	z-index: 3;
}

.codepen.play ul li.active {
	animation: asd 0.5s 0.5s linear both;
	z-index: 2;
}

@keyframes asd {
	0% {
		z-index: 2;
	}
	5% {
		z-index: 4;
	}
	100% {
		z-index: 4;
	}
}

.codepen.play ul li.active .down {
	z-index: 2;
	animation: turn 0.5s 0.5s linear both;
}

@keyframes turn {
	0% {
		transform: rotateX(90deg);
	}
	100% {
		transform: rotateX(0deg);
	}
}

.codepen.play ul li.before .up {
	z-index: 2;
	animation: turn2 0.5s linear both;
}

@keyframes turn2 {
	0% {
		transform: rotateX(0deg);
	}
	100% {
		transform: rotateX(-90deg);
	}
}

/* SHADOW */

.codepen.play ul li.before .up .shadow {
	background: -moz-linear-gradient(
		top,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 1) 100%
	);
	background: -webkit-gradient(
		linear,
		left top,
		left bottom,
		color-stop(0%, rgba(0, 0, 0, 0.1)),
		color-stop(100%, rgba(0, 0, 0, 1))
	);
	background: linear-gradient(
		top,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 1) 100%
	);
	background: -o-linear-gradient(
		top,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 1) 100%
	);
	background: -ms-linear-gradient(
		top,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 1) 100%
	);
	background: linear-gradient(
		to bottom,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 1) 100%
	);
	animation: show 0.5s linear both;
}

.codepen.play ul li.active .up .shadow {
	background: -moz-linear-gradient(
		top,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 1) 100%
	);
	background: -webkit-gradient(
		linear,
		left top,
		left bottom,
		color-stop(0%, rgba(0, 0, 0, 0.1)),
		color-stop(100%, rgba(0, 0, 0, 1))
	);
	background: linear-gradient(
		top,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 1) 100%
	);
	background: -o-linear-gradient(
		top,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 1) 100%
	);
	background: -ms-linear-gradient(
		top,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 1) 100%
	);
	background: linear-gradient(
		to bottom,
		rgba(0, 0, 0, 0.1) 0%,
		rgba(0, 0, 0, 1) 100%
	);
	animation: hide 0.5s 0.3s linear both;
}

/*DOWN*/

.codepen.play ul li.before .down .shadow {
	background: -moz-linear-gradient(
		top,
		rgba(0, 0, 0, 1) 0%,
		rgba(0, 0, 0, 0.1) 100%
	);
	background: -webkit-gradient(
		linear,
		left top,
		left bottom,
		color-stop(0%, rgba(0, 0, 0, 1)),
		color-stop(100%, rgba(0, 0, 0, 0.1))
	);
	background: linear-gradient(
		top,
		rgba(0, 0, 0, 1) 0%,
		rgba(0, 0, 0, 0.1) 100%
	);
	background: -o-linear-gradient(
		top,
		rgba(0, 0, 0, 1) 0%,
		rgba(0, 0, 0, 0.1) 100%
	);
	background: -ms-linear-gradient(
		top,
		rgba(0, 0, 0, 1) 0%,
		rgba(0, 0, 0, 0.1) 100%
	);
	background: linear-gradient(
		to bottom,
		rgba(0, 0, 0, 1) 0%,
		rgba(0, 0, 0, 0.1) 100%
	);
	animation: show 0.5s linear both;
}

.codepen.play ul li.active .down .shadow {
	background: -moz-linear-gradient(
		top,
		rgba(0, 0, 0, 1) 0%,
		rgba(0, 0, 0, 0.1) 100%
	);
	background: -webkit-gradient(
		linear,
		left top,
		left bottom,
		color-stop(0%, rgba(0, 0, 0, 1)),
		color-stop(100%, rgba(0, 0, 0, 0.1))
	);
	background: linear-gradient(
		top,
		rgba(0, 0, 0, 1) 0%,
		rgba(0, 0, 0, 0.1) 100%
	);
	background: -o-linear-gradient(
		top,
		rgba(0, 0, 0, 1) 0%,
		rgba(0, 0, 0, 0.1) 100%
	);
	background: -ms-linear-gradient(
		top,
		rgba(0, 0, 0, 1) 0%,
		rgba(0, 0, 0, 0.1) 100%
	);
	background: linear-gradient(
		to bottom,
		rgba(0, 0, 0, 1) 0%,
		rgba(0, 0, 0, 0.1) 100%
	);
	animation: hide 0.5s 0.3s linear both;
}

@keyframes show {
	0% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}

@keyframes hide {
	0% {
		opacity: 1;
	}
	100% {
		opacity: 0;
	}
}
</style>
